@{
    ViewData["Title"] = "History";
}
@section Scripts {
    <script src="~/js/history.js" asp-append-version="false"></script>
}

<div id="history" v-cloak>

    <h1>History</h1>
    <hr>

    <div class="row">
        <div class="col-lg-6">
            <h4>Mission Report</h4>
            <p>
                <small>
                    coordinates: ( x, y, direction ) <br>
                    M - Move instruction <br>
                    R - Rotate clockwise instruction <br>
                    L - Rotate anti-clockwise instruction <br><br>
                </small>
            </p>
            <div>
                <i class="fa fa-spinner fa-spin" v-show="isInProgress"></i>
                <p class="error" v-show="errorMsgMission">{{errorMsgMission}}</p>
            </div>
            <div class="row" v-show="true" style="margin-bottom: 20px">
                <div class="col-lg-12">
                    <p>
                        <strong>Plateau dimensions</strong><br>
                        width: {{gridWidth}}, height: {{gridHeight}}
                    </p>
                </div>
            </div>
            <div v-for="(r, i) in reports" class="row" style="margin-bottom: 20px">
                <div class="col-lg-12">
                    <p><strong>Rover {{i + 1}}</strong></p>
                    <p>start coordinates: ( {{r.firstX}}, {{r.firstY}}, {{r.firstDir}} )</p>
                    <div class="input-group mb-3">
                        <div class="input-group-prepend">
                            <span class="input-group-text">Instructions</span>
                        </div>
                        <textarea rows="1" class="recordings" v-model="r.input" disabled></textarea>
                    </div>
                    <p>end coordinates: ( {{r.lastX}}, {{r.lastY}}, {{r.lastDir}} )</p>
                </div>
            </div>
        </div>
        <div class="col-lg-6">
            <h4>Mission Screenshot</h4>
            <div class="row">
                <div class="col-lg-12">
                    <img class="screenshot" v-bind:src="screenshot">
                </div>
            </div>
        </div>
    </div>

</div>